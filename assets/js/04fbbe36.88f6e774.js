"use strict";(self.webpackChunkpike_cookbook=self.webpackChunkpike_cookbook||[]).push([[679],{8453(e,n,r){r.d(n,{R:()=>t,x:()=>l});var s=r(6540);const i={},a=s.createContext(i);function t(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(a.Provider,{value:n},e.children)}},9034(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"files/database-access","title":"Database Access","description":"Introduction to Database Access in Pike 8","source":"@site/docs/files/database-access.md","sourceDirName":"files","slug":"/files/database-access","permalink":"/pike-cookbook/docs/files/database-access","draft":false,"unlisted":false,"editUrl":"https://github.com/TheSmuks/pike-cookbook/tree/main/docs/files/database-access.md","tags":[],"version":"current","frontMatter":{"id":"database-access","title":"Database Access","sidebar_label":"Database Access"},"sidebar":"tutorialSidebar","previous":{"title":"Directories","permalink":"/pike-cookbook/docs/files/directories"},"next":{"title":"CGI Programming","permalink":"/pike-cookbook/docs/network/cgi-programming"}}');var i=r(4848),a=r(8453);const t={id:"database-access",title:"Database Access",sidebar_label:"Database Access"},l=void 0,d={},o=[{value:"Introduction to Database Access in Pike 8",id:"introduction-to-database-access-in-pike-8",level:2},{value:"Supported Databases",id:"supported-databases",level:3},{value:"Basic Connection",id:"basic-connection",level:3},{value:"Executing SQL Queries",id:"executing-sql-queries",level:2},{value:"Simple SELECT Query",id:"simple-select-query",level:3},{value:"Type-Safe Queries (Pike 8)",id:"type-safe-queries-pike-8",level:3},{value:"Parameter Binding (SQL Injection Prevention)",id:"parameter-binding-sql-injection-prevention",level:3},{value:"Large Result Sets (Streaming)",id:"large-result-sets-streaming",level:3},{value:"INSERT, UPDATE, DELETE Operations",id:"insert-update-delete-operations",level:2},{value:"INSERT Operations",id:"insert-operations",level:3},{value:"UPDATE Operations",id:"update-operations",level:3},{value:"DELETE Operations",id:"delete-operations",level:3},{value:"Transaction Management",id:"transaction-management",level:2},{value:"Transaction with Error Handling",id:"transaction-with-error-handling",level:3},{value:"Connection Pooling",id:"connection-pooling",level:2},{value:"Advanced Query Features",id:"advanced-query-features",level:2},{value:"JOIN Operations",id:"join-operations",level:3},{value:"GROUP BY and Aggregation",id:"group-by-and-aggregation",level:3},{value:"Common Table Expressions (CTE)",id:"common-table-expressions-cte",level:3},{value:"Asynchronous Database Operations",id:"asynchronous-database-operations",level:2},{value:"Database Best Practices",id:"database-best-practices",level:2},{value:"Security Best Practices",id:"security-best-practices",level:3},{value:"Performance Best Practices",id:"performance-best-practices",level:3},{value:"Maintainability Best Practices",id:"maintainability-best-practices",level:3},{value:"Example Repository Pattern",id:"example-repository-pattern",level:3}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"introduction-to-database-access-in-pike-8",children:"Introduction to Database Access in Pike 8"}),"\n",(0,i.jsxs)(n.p,{children:["Pike 8 provides a comprehensive SQL interface through the ",(0,i.jsx)(n.code,{children:"Sql.Sql"})," class, supporting multiple database backends including PostgreSQL, MySQL, and SQLite. The interface offers type-safe queries, prepared statements, connection pooling, and asynchronous operations."]}),"\n",(0,i.jsx)(n.h3,{id:"supported-databases",children:"Supported Databases"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Database"}),(0,i.jsx)(n.th,{children:"URL Format"}),(0,i.jsx)(n.th,{children:"Features"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PostgreSQL"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pgsql://host:port/database"})}),(0,i.jsx)(n.td,{children:"Full featured, SSL, async queries, NOTIFY/LISTEN"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MySQL"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mysql://host:port/database"})}),(0,i.jsx)(n.td,{children:"Widely used, SSL support via mysqls://"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SQLite"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sqlite://path/to/database.db"})}),(0,i.jsx)(n.td,{children:"Embedded, in-memory databases supported"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"basic-connection",children:"Basic Connection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'#!/usr/bin/env pike\n#pragma strict_types\n#pike 8.0\n\n// PostgreSQL connection\nSql.Sql db = Sql.Sql("pgsql://localhost:5432/mydb");\n\n// MySQL connection\nSql.Sql db = Sql.Sql("mysql://localhost:3306/mydb");\n\n// SQLite connection\nSql.Sql db = Sql.Sql("sqlite://example.db");\n\n// With authentication\nSql.Sql db = Sql.Sql("pgsql://user:password@localhost:5432/mydb");\n\n// With options\nSql.Sql db = Sql.Sql("pgsql://host", "database", "user", "password", ([\n    "use_ssl": 1,\n    "reconnect": -1,\n    "cache_autoprepared_statements": 1\n]));\n'})}),"\n",(0,i.jsxs)(n.p,{children:["For complete working examples, see the recipe files in ",(0,i.jsx)(n.code,{children:"recipes/database/"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dbconnection.pike"})," - Connection management and pooling"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"basic_queries.pike"})," - Query execution and results"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"advanced_operations.pike"})," - Joins, aggregations, CTEs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"async_operations.pike"})," - Asynchronous database operations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"best_practices.pike"})," - Security and performance patterns"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"executing-sql-queries",children:"Executing SQL Queries"}),"\n",(0,i.jsx)(n.h3,{id:"simple-select-query",children:"Simple SELECT Query"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Basic query - returns array of mappings\narray(mapping(string:mixed)) result = db->query("SELECT * FROM users");\n\nforeach (result, mapping(string:mixed) row) {\n    werror("User: %s, Email: %s\\n", row->name, row->email);\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"type-safe-queries-pike-8",children:"Type-Safe Queries (Pike 8)"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"typed_query()"})," for automatic type conversion:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Returns properly typed values (int, float, string, Val.null)\narray(mapping(string:mixed)) result =\n    db->typed_query("SELECT id, name, age FROM users WHERE age > %d", 28);\n\nforeach (result, mapping row) {\n    // row->id is int, row->name is string, row->age is int\n    werror("%s (ID: %d) is %d years old\\n",\n           row->name, row->id, row->age);\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"parameter-binding-sql-injection-prevention",children:"Parameter Binding (SQL Injection Prevention)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CRITICAL:"})," Always use parameter binding to prevent SQL injection:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// SAFE: Using sprintf-style parameters\nstring username = "alice";\nint min_age = 25;\n\narray(mapping) result = db->query(\n    "SELECT * FROM users WHERE username = %s AND age > %d",\n    username, min_age\n);\n\n// SAFE: Using named parameters\narray(mapping) result = db->query(\n    "SELECT * FROM users WHERE username = :username AND age > :min_age",\n    (["username": username, "min_age": min_age])\n);\n\n// DANGEROUS: Never do this!\n// string query = "SELECT * FROM users WHERE username = \'" + username + "\'";\n// This is vulnerable to SQL injection attacks\n'})}),"\n",(0,i.jsx)(n.h3,{id:"large-result-sets-streaming",children:"Large Result Sets (Streaming)"}),"\n",(0,i.jsxs)(n.p,{children:["For large result sets, use ",(0,i.jsx)(n.code,{children:"big_query()"})," to fetch rows one at a time:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Stream results - memory efficient\nobject result = db->big_query("SELECT * FROM large_table");\n\nif (result) {\n    array(mixed) row;\n    while ((row = result->fetch_row())) {\n        // Process one row at a time\n        process_row(row);\n    }\n\n    // Get metadata\n    werror("Total rows: %d\\n", result->num_rows());\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"insert-update-delete-operations",children:"INSERT, UPDATE, DELETE Operations"}),"\n",(0,i.jsx)(n.h3,{id:"insert-operations",children:"INSERT Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Simple insert\ndb->query("INSERT INTO users (name, email, age) VALUES (%s, %s, %d)",\n         "Alice", "alice@example.com", 30);\n\n// Insert with named parameters\ndb->query("INSERT INTO users (name, email, age) "\n         "VALUES (:name, :email, :age)",\n         (["name": "Bob", "email": "bob@example.com", "age": 25]));\n\n// Get last insert ID (SQLite, MySQL, PostgreSQL)\nint last_id = db->master_sql->last_insert_id();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"update-operations",children:"UPDATE Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Update single record\ndb->query("UPDATE users SET age = :new_age WHERE name = :name",\n         (["new_age": 31, "name": "Alice"]));\n\n// Update multiple records\nint affected = db->query("UPDATE users SET age = age + 1 WHERE age < 30");\n\n// Check affected rows (varies by database)\nwerror("Updated %d records\\n", affected ? sizeof(affected) : 0);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"delete-operations",children:"DELETE Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Delete with condition\ndb->query("DELETE FROM users WHERE age > :max_age",\n         (["max_age": 50]));\n\n// Delete single record\ndb->query("DELETE FROM users WHERE id = %d", user_id);\n\n// Delete all (use with caution)\ndb->query("DELETE FROM users");\n'})}),"\n",(0,i.jsx)(n.h2,{id:"transaction-management",children:"Transaction Management"}),"\n",(0,i.jsx)(n.p,{children:"Transactions ensure ACID properties for multi-step operations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Basic transaction pattern\ndb->query("BEGIN TRANSACTION");\n\nmixed err = catch {\n    // Multiple operations\n    db->query("INSERT INTO accounts (user_id, balance) VALUES (%d, %f)",\n             user_id, 100.0);\n    db->query("UPDATE users SET account_created = 1 WHERE id = %d", user_id);\n\n    // Commit if all successful\n    db->query("COMMIT");\n    werror("Transaction committed successfully\\n");\n};\n\nif (err) {\n    // Rollback on error\n    db->query("ROLLBACK");\n    werror("Transaction rolled back: %s\\n", err[0]);\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"transaction-with-error-handling",children:"Transaction with Error Handling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Robust transaction with proper cleanup\nclass Transaction {\n    private Sql.Sql db;\n    private int in_progress = 0;\n\n    void create(Sql.Sql db) {\n        this::db = db;\n        begin();\n    }\n\n    void begin() {\n        db->query("BEGIN TRANSACTION");\n        in_progress = 1;\n    }\n\n    void commit() {\n        if (in_progress) {\n            db->query("COMMIT");\n            in_progress = 0;\n        }\n    }\n\n    void rollback() {\n        if (in_progress) {\n            db->query("ROLLBACK");\n            in_progress = 0;\n        }\n    }\n\n    void destroy() {\n        if (in_progress) {\n            rollback();\n        }\n    }\n}\n\n// Usage\nTransaction tx = Transaction(db);\n\nmixed err = catch {\n    db->query("INSERT INTO ...");\n    db->query("UPDATE ...");\n    tx->commit();\n};\n\nif (err) {\n    tx->rollback();\n    // Handle error\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"connection-pooling",children:"Connection Pooling"}),"\n",(0,i.jsx)(n.p,{children:"For web applications and high-load scenarios, use connection pooling:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'#pragma strict_types\n#pike 8.0\n\nclass ConnectionPool {\n    private string db_url;\n    private int pool_size;\n    private array(Sql.Sql) connections;\n    private Thread.Queue available;\n    private Thread.Mutex lock = Thread.Mutex();\n\n    void create(string db_url, int pool_size) {\n        this::db_url = db_url;\n        this::pool_size = pool_size;\n\n        connections = allocate(pool_size);\n        available = Thread.Queue();\n\n        // Initialize connections\n        for (int i = 0; i < pool_size; i++) {\n            connections[i] = Sql.Sql(db_url);\n            available->write(i);\n        }\n    }\n\n    // Get connection from pool\n    Sql.Sql acquire() {\n        int idx = available->read();\n        Sql.Sql conn = connections[idx];\n\n        // Verify connection is alive\n        if (conn->ping() < 0) {\n            Thread.MutexKey key = lock->lock();\n            connections[idx] = Sql.Sql(db_url);\n            conn = connections[idx];\n            destruct(key);\n        }\n\n        return conn;\n    }\n\n    // Return connection to pool\n    void release(Sql.Sql conn) {\n        Thread.MutexKey key = lock->lock();\n        int idx = search(connections, conn);\n        if (idx >= 0) {\n            available->write(idx);\n        }\n        destruct(key);\n    }\n\n    // Execute query with automatic connection management\n    array(mapping) query(string q, mixed... extraargs) {\n        Sql.Sql conn = acquire();\n        mixed err = catch {\n            array(mapping) result = conn->query(q, @extraargs);\n            release(conn);\n            return result;\n        };\n\n        release(conn);\n        throw(err);\n    }\n}\n\n// Usage\nConnectionPool pool = ConnectionPool("pgsql://localhost/appdb", 10);\n\n// Use pool for queries\narray(mapping) users = pool->query(\n    "SELECT * FROM users WHERE active = 1"\n);\n'})}),"\n",(0,i.jsx)(n.h2,{id:"advanced-query-features",children:"Advanced Query Features"}),"\n",(0,i.jsx)(n.h3,{id:"join-operations",children:"JOIN Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// INNER JOIN\narray(mapping) result = db->typed_query(\n    "SELECT e.name, d.department "\n    "FROM employees e "\n    "INNER JOIN departments d ON e.department_id = d.id"\n);\n\n// LEFT JOIN\narray(mapping) result = db->typed_query(\n    "SELECT e.name, d.department "\n    "FROM employees e "\n    "LEFT JOIN departments d ON e.department_id = d.id"\n);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"group-by-and-aggregation",children:"GROUP BY and Aggregation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Count and average\narray(mapping) stats = db->typed_query(\n    "SELECT department, COUNT(*) as count, AVG(salary) as avg_salary "\n    "FROM employees "\n    "GROUP BY department"\n);\n\n// HAVING clause\narray(mapping) high_salary = db->typed_query(\n    "SELECT department, AVG(salary) as avg "\n    "FROM employees "\n    "GROUP BY department "\n    "HAVING AVG(salary) > 60000"\n);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"common-table-expressions-cte",children:"Common Table Expressions (CTE)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Simple CTE\narray(mapping) result = db->typed_query("\n    WITH high_paid AS (\n        SELECT name, salary, department_id\n        FROM employees\n        WHERE salary > 70000\n    )\n    SELECT e.name, d.department\n    FROM high_paid e\n    JOIN departments d ON e.department_id = d.id\n");\n\n// Recursive CTE (hierarchical data)\narray(mapping) hierarchy = db->typed_query("\n    WITH RECURSIVE category_tree AS (\n        SELECT id, name, parent_id, 1 as level\n        FROM categories\n        WHERE parent_id IS NULL\n        UNION ALL\n        SELECT c.id, c.name, c.parent_id, ct.level + 1\n        FROM categories c\n        JOIN category_tree ct ON c.parent_id = ct.id\n    )\n    SELECT name, level FROM category_tree ORDER BY level\n");\n'})}),"\n",(0,i.jsx)(n.h2,{id:"asynchronous-database-operations",children:"Asynchronous Database Operations"}),"\n",(0,i.jsx)(n.p,{children:"Pike 8 supports asynchronous database operations using Future/Promise:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'// Async query with Future/Promise\nclass AsyncDatabase {\n    private Sql.Sql db;\n\n    void create(string db_url) {\n        db = Sql.Sql(db_url);\n    }\n\n    Promise query_async(string query, mapping|void bindings) {\n        Promise promise = Promise();\n        Thread.Thread(do_query, promise, query, bindings);\n        return promise;\n    }\n\n    private void do_query(Promise promise, string query, mapping|void bindings) {\n        mixed err = catch {\n            array(mapping) result = bindings ?\n                db->query(query, bindings) : db->query(query);\n            promise->success(result);\n        };\n\n        if (err) {\n            promise->failure(err);\n        }\n    }\n}\n\n// Usage\nAsyncDatabase async_db = AsyncDatabase("sqlite://example.db");\nPromise p = async_db->query_async("SELECT * FROM users");\nFuture f = p->future();\n\n// Do other work here...\n\n// Get result when ready\nmixed result = f->get();\nif (arrayp(result)) {\n    werror("Got %d rows\\n", sizeof(result));\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"database-best-practices",children:"Database Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Always use parameter binding to prevent SQL injection"}),"\n",(0,i.jsx)(n.li,{children:"Validate and sanitize user input"}),"\n",(0,i.jsx)(n.li,{children:"Use least privilege database accounts"}),"\n",(0,i.jsx)(n.li,{children:"Hash passwords with salt (never store plaintext)"}),"\n",(0,i.jsx)(n.li,{children:"Use SSL for remote database connections"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"performance-best-practices",children:"Performance Best Practices"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use indexes on frequently queried columns"}),"\n",(0,i.jsx)(n.li,{children:"Batch operations in transactions"}),"\n",(0,i.jsx)(n.li,{children:"Use connection pooling for web applications"}),"\n",(0,i.jsx)(n.li,{children:"Prefer typed_query for better type handling"}),"\n",(0,i.jsx)(n.li,{children:"Use EXPLAIN to analyze query performance"}),"\n",(0,i.jsx)(n.li,{children:"Stream large results with big_query"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"maintainability-best-practices",children:"Maintainability Best Practices"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use repository pattern for data access"}),"\n",(0,i.jsx)(n.li,{children:"Implement migrations for schema changes"}),"\n",(0,i.jsx)(n.li,{children:"Log queries in development environments"}),"\n",(0,i.jsx)(n.li,{children:"Use prepared statements for repeated queries"}),"\n",(0,i.jsx)(n.li,{children:"Handle errors gracefully with proper cleanup"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example-repository-pattern",children:"Example Repository Pattern"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pike",children:'class UserRepository {\n    private Sql.Sql db;\n\n    void create(Sql.Sql db) {\n        this::db = db;\n    }\n\n    array(mapping) find_all() {\n        return db->typed_query("SELECT id, username, email FROM users");\n    }\n\n    mapping find_by_id(int id) {\n        array(mapping) result = db->typed_query(\n            "SELECT id, username, email FROM users WHERE id = :id",\n            (["id": id])\n        );\n        return sizeof(result) ? result[0] : 0;\n    }\n\n    int create(string username, string email) {\n        db->query(\n            "INSERT INTO users (username, email) VALUES (:username, :email)",\n            (["username": username, "email": email])\n        );\n        return db->master_sql->last_insert_id();\n    }\n\n    void update(int id, string|void username, string|void email) {\n        if (username) {\n            db->query("UPDATE users SET username = :username WHERE id = :id",\n                     (["username": username, "id": id]));\n        }\n        if (email) {\n            db->query("UPDATE users SET email = :email WHERE id = :id",\n                     (["email": email, "id": id]));\n        }\n    }\n\n    void delete(int id) {\n        db->query("DELETE FROM users WHERE id = :id", (["id": id]));\n    }\n}\n\n// Usage\nSql.Sql db = Sql.Sql("sqlite://app.db");\nUserRepository users = UserRepository(db);\n\nint user_id = users->create("alice", "alice@example.com");\nmapping user = users->find_by_id(user_id);\nusers->update(user_id, "alice_updated");\narray(mapping) all_users = users->find_all();\nusers->delete(user_id);\n'})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);