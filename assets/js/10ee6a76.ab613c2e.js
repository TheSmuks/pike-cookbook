"use strict";(self.webpackChunkpike_cookbook=self.webpackChunkpike_cookbook||[]).push([[158],{446(n,e,r){r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"basics/numbers","title":"Numbers","description":"Checking Whether a String Is a Valid Number","source":"@site/docs/basics/numbers.md","sourceDirName":"basics","slug":"/basics/numbers","permalink":"/pike-cookbook/docs/basics/numbers","draft":false,"unlisted":false,"editUrl":"https://github.com/TheSmuks/pike-cookbook/tree/main/docs/basics/numbers.md","tags":[],"version":"current","frontMatter":{"id":"numbers","title":"Numbers","sidebar_label":"Numbers"},"sidebar":"tutorialSidebar","previous":{"title":"Strings","permalink":"/pike-cookbook/docs/basics/strings"},"next":{"title":"Arrays","permalink":"/pike-cookbook/docs/basics/arrays"}}');var a=r(4848),t=r(8453);const s={id:"numbers",title:"Numbers",sidebar_label:"Numbers"},o=void 0,l={},c=[{value:"Checking Whether a String Is a Valid Number",id:"checking-whether-a-string-is-a-valid-number",level:2},{value:"Comparing Floating-Point Numbers",id:"comparing-floating-point-numbers",level:2},{value:"Rounding Floating-Point Numbers",id:"rounding-floating-point-numbers",level:2},{value:"Converting Between Binary and Decimal",id:"converting-between-binary-and-decimal",level:2},{value:"Operating on a Series of Integers",id:"operating-on-a-series-of-integers",level:2},{value:"Working with Roman Numerals",id:"working-with-roman-numerals",level:2},{value:"Generating Random Numbers",id:"generating-random-numbers",level:2},{value:"Generating Different Random Numbers",id:"generating-different-random-numbers",level:2},{value:"Making Numbers Even More Random",id:"making-numbers-even-more-random",level:2},{value:"Generating Biased Random Numbers",id:"generating-biased-random-numbers",level:2},{value:"Doing Trigonometry in Degrees, not Radians",id:"doing-trigonometry-in-degrees-not-radians",level:2},{value:"Calculating More Trigonometric Functions",id:"calculating-more-trigonometric-functions",level:2},{value:"Converting Between Number Bases",id:"converting-between-number-bases",level:2},{value:"Taking Logarithms",id:"taking-logarithms",level:2},{value:"Multiplying Matrices",id:"multiplying-matrices",level:2},{value:"Using Complex Numbers",id:"using-complex-numbers",level:2},{value:"Converting Between Octal and Hexadecimal",id:"converting-between-octal-and-hexadecimal",level:2},{value:"Putting Commas in Numbers",id:"putting-commas-in-numbers",level:2},{value:"Printing Correct Plurals",id:"printing-correct-plurals",level:2},{value:"Program: Calculating Prime Factors",id:"program-calculating-prime-factors",level:2}];function d(n){const e={code:"code",h2:"h2",pre:"pre",...(0,t.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h2,{id:"checking-whether-a-string-is-a-valid-number",children:"Checking Whether a String Is a Valid Number"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'string number = "123.3asdf";\n\nint|float realnumber = (int)number;  // casting to int will throw away all\n                                    // nonnumber parts\nstring rest;\n[realnumber, rest] = array_sscanf(number, "%d%s"); // scan for an integer\n// if rest contains anything but the empty string, then there was more than a\n// number in the string\n// use %f to scan for float, %x for hex or %o for octal\n\n// Modern type validation and conversion in Pike 8\n// Robust number checking with exception handling\n\nmixed is_valid_number(string str)\n{\n  catch\n  {\n    float val = float(str);\n    return val;\n  };\n  return 0;\n}\n\n// Advanced type conversion utilities\nint to_int(mixed value)\n{\n  if (intp(value)) return value;\n  if (floatp(value)) return int(value);\n  if (stringp(value))\n  {\n    catch { return int(value); }\n    return 0;\n  }\n  return 0;\n}\n\nfloat to_float(mixed value)\n{\n  if (floatp(value)) return value;\n  if (intp(value)) return float(value);\n  if (stringp(value))\n  {\n    catch { return float(value); }\n    return 0.0;\n  }\n  return 0.0;\n}\n\nstring to_string(mixed value)\n{\n  if (intp(value) || floatp(value)) return sprintf("%.6g", value);\n  return string value;\n}\n\n// Example usage\narray test_values = ({ "42", "3.14", "hello", 100, -5.5 });\n\nforeach(test_values, mixed val)\n{\n  write("Value: %O, Int: %d, Float: %f, Valid: %s\\n",\n        val, to_int(val), to_float(val),\n        is_valid_number(string)val) ? "Yes" : "No");\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"comparing-floating-point-numbers",children:"Comparing Floating-Point Numbers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'int same(float one, float two, int accuracy)\n{\n  return sprintf("%.*f", accuracy, one) == sprintf("%.*f", accuracy, two);\n}\n\nint wage=536;\nint week=40*wage;\nwrite("one week\'s wage is: $%.2f\\n", week/100.0);\n'})}),"\n",(0,a.jsx)(e.h2,{id:"rounding-floating-point-numbers",children:"Rounding Floating-Point Numbers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'float unrounded=3.5;\nstring rounded=sprintf("%.*f", accuracy, unrounded);\n\nfloat a=0.255;\nstring b=sprintf("%.2f", a);\n\nwrite("Unrounded: %f\\nRounded: %s\\n", a, b);\nwrite("Unrounded: %f\\nRounded: %.2f\\n", a, a);\n\n// dec to bin\nstring bin=sprintf("%b", 5);\n\nint dec=array_sscanf("0000011111111111111", "%b")[0];\n                // array_sscanf returns an array\n\nint num = array_sscanf("0110110", "%b")[0];  // num is 54\nstring binstr = sprintf("%b", 54);           // binstr is 110110\n'})}),"\n",(0,a.jsx)(e.h2,{id:"converting-between-binary-and-decimal",children:"Converting Between Binary and Decimal"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'// contributed by martin nilsson.\n\nstring dec2bin(int n)\n{\n  return sprintf("%b",n);\n}\n\nint bin2dec(string n)\n{\n  return array_sscanf(n, "%b")[0];\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"operating-on-a-series-of-integers",children:"Operating on a Series of Integers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'// foreach(enumerate(int count, int step, int start);; int val)\n// {\n//   // val is set to each of count integers starting at start\n// }\n\nforeach(enumerate(y-x+1,1,x);; int val)\n{\n  // val is set to every integer from X to Y, inclusive\n}\n\nfor(int i=x; i<=y; i++)\n{\n  // val is set to every integer from X to Y, inclusive\n}\n\nfor(int i=x; i<=y; i+=7)\n{\n  // val is set to every integer from X to Y, stepsize = 7\n}\n\nforeach(enumerate(y-x+1,7,x);; int val)\n{\n  // val is set to every integer from X to Y, stepsize = 7\n}\n\n//----------------------------------------\nwrite("Infancy is: ");\nforeach(enumerate(3);; int val)\n{\n  write("%d ", val);\n}\nwrite("\\n");\n\nwrite("Toddling is: %{%d %}\\n", enumerate(2,1,3));\n\nwrite("Childhood is: ");\nfor (int i = 5; i <= 12; i++)\n{\n  write("%d ", i);\n}\nwrite("\\n");\n\n// Infancy is: 0 1 2\n// Toddling is: 3 4\n// Childhood is: 5 6 7 8 9 10 11 12\n'})}),"\n",(0,a.jsx)(e.h2,{id:"working-with-roman-numerals",children:"Working with Roman Numerals"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'int arabic;\nstring roman = String.int2roman(arabic);        // handles values up to 10000\n\narray nums=enumerate(10001);\narray romans=String.int2roman(nums[*]);\nmapping roman2int = mmapping(romans, nums);\n\nint arabic = roman2int[roman];\n\n//------------------------------------------------\nstring roman_fifteen = String.int2roman(15);    //  "XV"\nwrite("Roman for fifteen is %s\\n", roman_fifteen);\n\nint arabic_fifteen = roman2int[roman_fifteen];\nwrite("Converted back, %s is %d\\n", roman_fifteen, arabic_fifteen);\n\n// Roman for fifteen is XV\n// Converted back, XV is 15\n'})}),"\n",(0,a.jsx)(e.h2,{id:"generating-random-numbers",children:"Generating Random Numbers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'int y,x;\nint rand = random(y-x+1)+x;\n\nfloat y,x;\nfloat rand = random(y-x+1)+x;\n\nint rand = random(51)+25;\nwrite("%d\\n", rand);\n\narray arr;\nmixed elt = arr[random(sizeof(arr))];\nmixed elt = random(arr);\n\narray chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@%^&*"/"";\nstring password = "";\nfor(int i=1; i<=8; i++)\n{\n  password+=random(chars);\n}\n\nstring password = random_string(8);      // creates an untypable string\n\n// turn the string into something typable using the base64 charset\nstring password = MIME.encode_base64(random_string(8))[..7];\n'})}),"\n",(0,a.jsx)(e.h2,{id:"generating-different-random-numbers",children:"Generating Different Random Numbers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:"random_seed(int seed);\nrandom_seed((int)argv[1]);\n"})}),"\n",(0,a.jsx)(e.h2,{id:"making-numbers-even-more-random",children:"Making Numbers Even More Random"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:"// Crypto.Random.random(int max)\n// Crypto.Random.random_string(int length)\n// Crypto.Random.blocking_random_string(int length)\n// Crypto.Random.add_entropy(string random_data, int entropy)\n"})}),"\n",(0,a.jsx)(e.h2,{id:"generating-biased-random-numbers",children:"Generating Biased Random Numbers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'float gaussian_rand()\n{\n  float u1, u2, w, g1, g2;\n\n  do\n  {\n    u1 = 2.0 * random(1.0) - 1.0; u2 = 2.0 * random(1.0) - 1.0;\n    w = u1 * u1 + u2 * u2;\n  } while (w > 1.0);\n\n  w = sqrt((-2.0 * log(w)) / w); g2 = u1 * w; g1 = u2 * w;\n\n  return g1;\n}\n\n// ----\n\nfloat mean = 25.0, sdev = 2.0;\nfloat salary = gaussian_rand() * mean + sdev;\n\nwrite("You have been hired at: %.2f\\n", salary);\n'})}),"\n",(0,a.jsx)(e.h2,{id:"doing-trigonometry-in-degrees-not-radians",children:"Doing Trigonometry in Degrees, not Radians"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'float deg2rad(float deg)\n{\n  return (deg / 180.0) * Math.pi;\n}\n\nfloat rad2deg(float rad)\n{\n  return (rad / Math.pi) * 180.0;\n}\n\n// ----\n\nwrite("%f\\n", Math.convert_angle(180, "deg", "rad"));\nwrite("%f\\n", deg2rad(180.0));\n\n// ----------------------------\n\nfloat degree_sin(float deg)\n{\n  return sin(deg2rad(deg));\n}\n\n// ----\n\nfloat rad = deg2rad(380.0);\nwrite("%f\\n", sin(rad));\nwrite("%f\\n", degree_sin(380.0));\n'})}),"\n",(0,a.jsx)(e.h2,{id:"calculating-more-trigonometric-functions",children:"Calculating More Trigonometric Functions"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'float my_tan(float theta)\n{\n  return sin(theta) / cos(theta);\n}\n\n// ----\n\nfloat theta = 3.7;\n\nwrite("%f\\n", my_tan(theta));\nwrite("%f\\n", tan(theta));\n'})}),"\n",(0,a.jsx)(e.h2,{id:"converting-between-number-bases",children:"Converting Between Number Bases"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'// Convert numbers between different bases using Pike\'s sprintf and sscanf\n// Common conversions: decimal, binary, octal, hexadecimal\n\n// Convert from decimal to other bases\nint decimal = 42;\n\n// To binary\nstring binary = sprintf("%b", decimal);  // "101010"\n// To octal\nstring octal = sprintf("%o", decimal);    // "52"\n// To hexadecimal\nstring hexadecimal = sprintf("%x", decimal); // "2a"\n\n// Convert from other bases back to decimal\nstring bin_str = "101010";\nstring oct_str = "52";\nstring hex_str = "2a";\n\nint from_bin = array_sscanf(bin_str, "%b")[0];  // 42\nint from_oct = array_sscanf(oct_str, "%o")[0];   // 42\nint from_hex = array_sscanf(hex_str, "%x")[0];   // 42\n\n// Convert between bases using sscanf with any string format\nstring hex_val = "2A";\nstring bin_val;\n\nsscanf(hex_val, "%x", hexadecimal);\nbin_val = sprintf("%b", hexadecimal);\n\nwrite("Hex %s converts to binary: %s\\n", hex_val, bin_val);\n\n// Base conversion utility functions\nstring convert_base(int number, int from_base, int to_base)\n{\n  int decimal = array_sscanf(sprintf("%*s", number), "%" + (string)from_base + "d")[0];\n  return sprintf("%*s", to_base, decimal);\n}\n\n// Example usage\nstring oct_to_hex = convert_base("52", 8, 16);  // "2a"\nstring bin_to_dec = convert_base("101010", 2, 10); // "42"\n\n// Literal notation for different bases in Pike\nint dec_literal = 42;          // decimal (base 10)\nint hex_literal = 0x2A;         // hexadecimal (base 16)\nint oct_literal = 052;         // octal (base 8)\nint bin_literal = 0b101010;      // binary (base 2)\n\nwrite("All represent the same value: %d, 0x%x, 0%o, 0b%b\\n",\n      dec_literal, hex_literal, oct_literal, bin_literal);\n\n// Output: All represent the same value: 42, 0x2a, 052, 0b101010\n'})}),"\n",(0,a.jsx)(e.h2,{id:"taking-logarithms",children:"Taking Logarithms"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'float value = 100.0;\n\nfloat log_e = log(value);\nfloat log_10 = Math.log10(value);\n\n// ----------------------------\n\nfloat log_base(float base, float value)\n{\n  return log(value) / log(base);\n}\n\n// ----\n\nfloat answer = log_base(10.0, 10000.0);\n\nwrite("log(10, 10,000) = %f\\n", answer);\n'})}),"\n",(0,a.jsx)(e.h2,{id:"multiplying-matrices",children:"Multiplying Matrices"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:"// Pike offers a solid matrix implementation; highlights:\n// * Operator overloading makes matrix operations succinct\n// * Matrices may be of various types, thus allowing user to\n//   choose between range representation and speed\n// * Wide variety of operations available\n\nMath.Matrix a = Math.Matrix( ( ({3, 2, 3}), ({5, 9, 8}) ) ),\n            b = Math.Matrix( ( ({4, 7}), ({9, 3}), ({8, 1}) ) );\n\nMath.Matrix c = a * b;\n\n// ------------\n\nMath.Matrix t = c->transpose();\n"})}),"\n",(0,a.jsx)(e.h2,{id:"using-complex-numbers",children:"Using Complex Numbers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'// Using complex numbers in Pike with Math.Complex\n// Complex numbers can be created using literal syntax or constructor\n\n// Create complex numbers - j is the imaginary unit\ncomplex c1 = 3.0 + 2.0 * Math.CI;  // 3 + 2i\ncomplex c2 = 1.0 - 4.0 * Math.CI;  // 1 - 4i\n\n// Basic operations\ncomplex sum = c1 + c2;      // (3 + 1) + (2 - 4)i = 4 - 2i\ncomplex diff = c1 - c2;     // (3 - 1) + (2 - (-4))i = 2 + 6i\ncomplex product = c1 * c2;  // (3*1 - 2*4) + (3*(-4) + 2*1)i = -5 - 10i\ncomplex quotient = c1 / c2; // complex division\n\n// Complex conjugate and magnitude\ncomplex conjugate = Math.conjugate(c1);  // 3 - 2i\nfloat magnitude = Math.abs(c1);        // sqrt(3\xb2 + 2\xb2) = 3.60555...\n\n// Mathematical functions for complex numbers\ncomplex squared = c1 * c1;                // (3 + 2i)\xb2 = 9 + 12i + 4i\xb2 = 5 + 12i\ncomplex power = Math.pow(c1, 3);         // (3 + 2i)\xb3\ncomplex sqrt_c1 = Math.sqrt(c1);        // square root of complex number\ncomplex exp_c1 = Math.exp(c1);          // e^(3 + 2i)\ncomplex log_c1 = Math.log(c1);          // natural logarithm\ncomplex sin_c1 = Math.sin(c1);          // sine of complex number\ncomplex cos_c1 = Math.cos(c1);          // cosine of complex number\n\n// Modern math functions with Pike 8\nx = 2.5;\n\n// Advanced mathematical functions\nsqrt_x = sqrt(x);              // square root\npow_x = Math.pow(x, 3);        // x\xb3\nexp_x = Math.exp(x);            // e^x\nlog_x = log(x);              // natural logarithm\nlog10_x = Math.log10(x);        // base-10 logarithm\nsin_x = sin(x);              // sine (radians)\ncos_x = cos(x);              // cosine (radians)\ntan_x = tan(x);              // tangent (radians)\n\n// Hyperbolic functions\nsinh_x = Math.sinh(x);            // hyperbolic sine\ncosh_x = Math.cosh(x);            // hyperbolic cosine\ntanh_x = Math.tanh(x);            // hyperbolic tangent\n\n// Inverse trigonometric functions\nasin_x = asin(x);            // arcsine\nacos_x = acos(x);            // arccosine\natan_x = atan(x);            // arctangent\n\n// Rounding functions\nfloor_x = floor(x);            // round down\nceil_x = ceil(x);             // round up\nround_x = round(x);           // round to nearest integer\ntrunc_x = float(int)x;          // truncate decimal part\n\n// Mathematical constants\npi = Math.pi;                    // \u03c0 \u2248 3.14159...\ne = Math.e;                      // e \u2248 2.71828...\n\n// Example: Solve quadratic equation x\xb2 + x + 1 = 0\n// Roots: (-1 \xb1 sqrt(1 - 4)) / 2 = (-1 \xb1 sqrt(-3)) / 2\nfloat a = 1, b = 1, c = 1;\nfloat discriminant = b*b - 4*a*c;  // -3\ncomplex root1 = (-b + Math.sqrt(discriminant)) / (2*a);\ncomplex root2 = (-b - Math.sqrt(discriminant)) / (2*a);\n\nwrite("Roots of x\xb2 + x + 1 = 0:\\n");\nwrite("  %O\\n  %O\\n", root1, root2);\n\n// Output:\n// Roots of x\xb2 + x + 1 = 0:\n//   (-0.5000000000000000000+0.8660254037844386468j)\n//   (-0.5000000000000000000-0.8660254037844386468j)\n'})}),"\n",(0,a.jsx)(e.h2,{id:"converting-between-octal-and-hexadecimal",children:"Converting Between Octal and Hexadecimal"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'// Like C, Pike supports decimal-alternate notations. Thus, for example,\n// the integer value, 867, is expressable in literal form as:\n//\n//   Hexadecimal -> 0x363\n//   Octal       -> 01543\n//\n// For effecting such conversions using strings there is \'sprintf\' and\n// \'sscanf\'.\n\nint dec = 867;\nstring hex = sprintf("%x", dec);\nstring oct = sprintf("%o", dec);\n\n// ------------\n\nint dec;\nstring hex = "363"; sscanf(hex, "%x", dec);\n\n// ------------\n\nint dec;\nstring oct = "1543"; sscanf(oct, "%o", dec);\n\n// ----------------------------\n\nint number;\n\nwrite("Gimme a number in decimal, octal, or hex: ");\nsscanf(Stdio.stdin->gets(), "%D", number);\n\nwrite("%d %x %o\\n", number, number, number);\n'})}),"\n",(0,a.jsx)(e.h2,{id:"putting-commas-in-numbers",children:"Putting Commas in Numbers"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'string commify_series(int series)\n{\n  return reverse((reverse((string)series) / 3.0) * ",");\n}\n\n// ----\n\nint hits = 3452347;\n\nwrite("Your website received %s accesses last month.\\n", commify_series(hits));\n\n// ----------------------------\n\nstring commify(string s)\n{\n  function t = lambda(string m) { return reverse((reverse(m) / 3.0) * ","); };\n  return Regexp.PCRE("([0-9]+)")->replace(s, t);\n}\n\n// ----\n\nint hits = 3452347;\nstring output = sprintf("Your website received %d accesses last month.", hits);\n\nwrite("%s\\n", commify(output));\n\n// ----------------------------\n\n// Additional modern number formatting with Pike 8\nstring format_currency(float amount)\n{\n  return sprintf("%.2f", amount);\n}\n\n// Scientific notation\nvalue = 1234.5678;\nscientific = sprintf("%.2e", value);  // "1.23e+03"\n\n// Fixed width formatting with leading zeros\npadded = sprintf("%010d", 42);        // "0000000042"\n\n// Locale-aware formatting (if locale is set)\nlocale_format = sprintf("\'" + value + "\'");  // Uses current locale\n\nformatted = commify_series(1000000);\nwrite("Formatted: %s\\nCurrency: %s\\nScientific: %s\\n",\n      formatted, format_currency(1234.56), scientific);\n'})}),"\n",(0,a.jsx)(e.h2,{id:"printing-correct-plurals",children:"Printing Correct Plurals"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'string pluralise(int value, string root, void|string singular_, void|string plural_)\n{\n  string singular = singular_ ? singular_ : "";\n  string plural = plural_ ? plural_ : "s";\n\n  return root + ((value > 1) ? plural : singular);\n}\n\n// ----\n\nint duration = 1;\nwrite("It took %d %s\\n", duration, pluralise(duration, "hour"));\nwrite("%d %s %s enough.\\n", duration, pluralise(duration, "hour"),\n      pluralise(duration, "", "is", "are"));\n\nduration = 5;\nwrite("It took %d %s\\n", duration, pluralise(duration, "hour"));\nwrite("%d %s %s enough.\\n", duration, pluralise(duration, "hour"),\n      pluralise(duration, "", "is", "are"));\n\n// ----------------------------\n\n// Non-regexp implementation, uses the string-based, \'has_prefix\'\n// and \'replace\' library functions\nstring plural(string singular)\n{\n  mapping(string : string) e2 =\n    (["ss":"sses", "ph":"phes", "sh":"shes", "ch":"ches",\n      "ey":"eys", "ix":"ices", "ff":"ffs"]);\n\n  mapping(string : string) e1 =\n    (["z":"zes", "f":"ves", "y":"ies", "s":"ses", "x":"xes"]);\n\n  foreach(({e2, e1}), mapping(string : string) endings)\n  {\n    foreach(indices(endings), string ending)\n    {\n      if (has_suffix(singular, ending))\n      {\n        return replace(singular, ending, endings[ending]);\n      }\n    }\n  }\n\n  return singular;\n}\n\n// ----\n\nint main()\n{\n  foreach(aggregate("mess", "index", "leaf", "puppy"), string word)\n    write("%6s -> %s\\n", word, plural(word));\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"program-calculating-prime-factors",children:"Program: Calculating Prime Factors"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-pike",children:'// <font size="-1"><a href="../include/pike/ch02/bigfact.html">download the following standalone program</a></font>\n#!/usr/bin/pike\n// contributed by martin nilsson\n\nvoid main(int n, array args)\n{\n  foreach(args[1..], string arg)\n  {\n    mapping r = ([]);\n    foreach(Math.factor((int)arg), int f)\n      r[f]++;\n    write("%-10s", arg);\n    if(sizeof(r)==1)\n      write(" PRIME");\n    else\n    {\n      foreach(sort(indices(r)), int f)\n      {\n        write(" %d", f);\n        if(r[f]>1) write("**%d", r[f]);\n      }\n    }\n    write("\\n");\n  }\n}\n'})})]})}function u(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},8453(n,e,r){r.d(e,{R:()=>s,x:()=>o});var i=r(6540);const a={},t=i.createContext(a);function s(n){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);