"use strict";(self.webpackChunkpike_cookbook=self.webpackChunkpike_cookbook||[]).push([[688],{8003(n,e,r){r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"network/cgi-programming","title":"CGI Programming","description":"Introduction","source":"@site/docs/network/cgi-programming.md","sourceDirName":"network","slug":"/network/cgi-programming","permalink":"/pike-cookbook/docs/network/cgi-programming","draft":false,"unlisted":false,"editUrl":"https://github.com/TheSmuks/pike-cookbook/tree/main/docs/network/cgi-programming.md","tags":[],"version":"current","frontMatter":{"id":"cgi-programming","title":"CGI Programming","sidebar_label":"CGI Programming"},"sidebar":"tutorialSidebar","previous":{"title":"Database Access","permalink":"/pike-cookbook/docs/files/database-access"},"next":{"title":"Sockets","permalink":"/pike-cookbook/docs/network/sockets"}}');var i=r(4848),s=r(8453);const a={id:"cgi-programming",title:"CGI Programming",sidebar_label:"CGI Programming"},o="CGI Programming",l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Writing a CGI Script",id:"writing-a-cgi-script",level:2},{value:"Complete CGI Script Template",id:"complete-cgi-script-template",level:3},{value:"Redirecting Error Messages",id:"redirecting-error-messages",level:2},{value:"Error Handling and Redirection",id:"error-handling-and-redirection",level:3},{value:"Writing a Safe CGI Program",id:"writing-a-safe-cgi-program",level:2},{value:"Security Best Practices",id:"security-best-practices",level:3},{value:"Redirecting to a Different Location",id:"redirecting-to-a-different-location",level:2},{value:"HTTP Redirects",id:"http-redirects",level:3},{value:"Formatting Lists and Tables with HTML Shortcuts",id:"formatting-lists-and-tables-with-html-shortcuts",level:2},{value:"HTML Helper Functions",id:"html-helper-functions",level:3},{value:"Managing Cookies",id:"managing-cookies",level:2},{value:"Cookie Handling",id:"cookie-handling",level:3},{value:"Debugging CGI Scripts",id:"debugging-cgi-scripts",level:2},{value:"HTTP Debug Tools",id:"http-debug-tools",level:3},{value:"See Also",id:"see-also",level:2}];function c(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"cgi-programming",children:"CGI Programming"})}),"\n",(0,i.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(e.p,{children:"CGI (Common Gateway Interface) enables web servers to execute programs and display their output. Pike 8 provides excellent support for CGI programming through built-in modules for HTTP handling, form processing, and web response generation."}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"What this covers:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CGI script fundamentals and environment variables"}),"\n",(0,i.jsx)(e.li,{children:"Form processing (GET and POST requests)"}),"\n",(0,i.jsx)(e.li,{children:"HTTP headers and redirects"}),"\n",(0,i.jsx)(e.li,{children:"Cookie management and sessions"}),"\n",(0,i.jsx)(e.li,{children:"Security best practices for web applications"}),"\n",(0,i.jsx)(e.li,{children:"Debugging CGI scripts"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Why use it:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Build dynamic web applications"}),"\n",(0,i.jsx)(e.li,{children:"Process web forms and user input"}),"\n",(0,i.jsx)(e.li,{children:"Create RESTful APIs and web services"}),"\n",(0,i.jsx)(e.li,{children:"Generate HTML responses dynamically"}),"\n"]}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsxs)(e.p,{children:["For modern web applications, consider using ",(0,i.jsx)(e.a,{href:"/docs/network/web-automation",children:"Web Automation"})," with dedicated HTTP servers instead of CGI."]})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"writing-a-cgi-script",children:"Writing a CGI Script"}),"\n",(0,i.jsx)(e.h3,{id:"complete-cgi-script-template",children:"Complete CGI Script Template"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: CGI script with GET and POST handling\n//-----------------------------\n\n#pragma strict_types\n#pragma no_clone\n\nimport Protocols.HTTP;\n\n// URL decoding function\nstring url_decode(string s) {\n    return replace(replace(replace(s, "+", " "),\n        "%20", " "),\n        "\\\\\\", "\\");\n}\n\n// URL encoding function\nstring url_encode(string s) {\n    return Protocols.HTTP.http_encode_url(s);\n}\n\n// Parse query string or POST data\nmapping(string:string) parse_form_data() {\n    mapping(string:string) form = ([]);\n    string data;\n    string method = getenv("REQUEST_METHOD") || "GET";\n\n    if (method == "GET") {\n        data = getenv("QUERY_STRING") || "";\n    } else if (method == "POST") {\n        int length = (int)(getenv("CONTENT_LENGTH") || "0");\n        if (length > 0 && length < 1048576) {  // 1MB limit\n            data = Stdio.stdin->read(length);\n        }\n    }\n\n    if (data) {\n        foreach(data / "&"; string pair) {\n            array(string) parts = pair / "=";\n            if (sizeof(parts) == 2) {\n                string key = url_decode(parts[0]);\n                string value = url_decode(parts[1]);\n                form[key] = value;\n            }\n        }\n    }\n\n    return form;\n}\n\n// Send HTTP headers\nvoid send_headers(string|void content_type, int|void status) {\n    if (!content_type) content_type = "text/html";\n    if (!status) status = 200;\n\n    write("Status: %d\\r\\n", status);\n    write("Content-Type: %s; charset=utf-8\\r\\n\\r\\n", content_type);\n}\n\n// Main entry point\nvoid main() {\n    mapping(string:string) form = parse_form_data();\n    send_headers();\n\n    write("<!DOCTYPE html>\\n");\n    write("<html><head><title>CGI Test</title></head>\\n");\n    write("<body><h1>CGI Script Working!</h1>\\n");\n    write("<p>Method: %s</p>\\n", getenv("REQUEST_METHOD") || "UNKNOWN");\n\n    if (sizeof(form)) {\n        write("<h2>Form Data:</h2><ul>\\n");\n        foreach(form; string key; string value) {\n            write("<li>%s: %s</li>\\n", key, value);\n        }\n        write("</ul>\\n");\n    }\n\n    write("</body></html>\\n");\n}\n'})}),"\n",(0,i.jsx)(e.admonition,{type:"note",children:(0,i.jsxs)(e.p,{children:["Always send HTTP headers ",(0,i.jsx)(e.strong,{children:"before"})," any content output. The ",(0,i.jsx)(e.code,{children:"\\r\\n\\r\\n"})," sequence marks the end of headers."]})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"redirecting-error-messages",children:"Redirecting Error Messages"}),"\n",(0,i.jsx)(e.h3,{id:"error-handling-and-redirection",children:"Error Handling and Redirection"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Capture and display errors in browser\n//-----------------------------\n\n#pragma strict_types\n#pragma no_clone\n\nconstant ERROR_LOG_FILE = "/tmp/cgi_errors.log";\n\nmapping(string:string) error_data = ([\n    "has_error": "0",\n    "error_message": "",\n    "backtrace": ""\n]);\n\nvoid install_error_handler() {\n    master()->set_inhibit_compile_errors(lambda(mixed err) {\n        error_data["has_error"] = "1";\n        error_data["error_message"] = sprintf("%O", err);\n    });\n\n    // Redirect stderr to file\n    Stdio.File(ERROR_LOG_FILE, "wac")->dup2(stderr);\n}\n\nvoid send_error_page(string title, string message, string|void backtrace) {\n    write("Status: 500 Internal Server Error\\r\\n");\n    write("Content-Type: text/html; charset=utf-8\\r\\n\\r\\n");\n\n    string safe_title = replace(replace(replace(title, "<", "&lt;"), ">", "&gt;"), "\\"", "&quot;");\n    string safe_message = replace(replace(replace(message, "\\n", "<br>"), "<", "&lt;"), ">", "&gt;");\n\n    write("<!DOCTYPE html><html><head><title>Error</title>\\n");\n    write("<style>body{font-family:Arial;margin:40px;background:#f0f0f0;}\\n");\n    write(".error-box{background:#fff;border-left:4px solid #d32f2f;padding:20px;}\\n");\n    write(".error-title{color:#d32f2f;margin-top:0;}</style></head>\\n");\n    write("<body><div class=\'error-box\'>\\n");\n    write("<h2 class=\'error-title\'>%s</h2>\\n", safe_title);\n    write("<p>%s</p>\\n", safe_message);\n    if (backtrace) {\n        write("<pre>%s</pre>\\n", backtrace);\n    }\n    write("</div></body></html>\\n");\n}\n\nvoid log_error(string message) {\n    string timestamp = Calendar.ISO.now()->format_time();\n    string remote = getenv("REMOTE_ADDR") || "unknown";\n    string log_entry = sprintf("[%s] %s: %s\\n", timestamp, remote, message);\n    Stdio.File f = Stdio.File(ERROR_LOG_FILE, "wac");\n    if (f) {\n        f->write(log_entry);\n        f->close();\n    }\n}\n\nmixed safe_execute(function():mixed cb) {\n    install_error_handler();\n\n    mixed result = catch {\n        return cb();\n    };\n\n    if (result) {\n        string err_msg = describe_error(result);\n        log_error(err_msg);\n        send_error_page("Application Error", err_msg, backtrace());\n        return 0;\n    }\n\n    if (error_data["has_error"] == "1") {\n        log_error(error_data["error_message"]);\n        send_error_page("Compilation Error", error_data["error_message"]);\n        return 0;\n    }\n\n    return UNDEFINED;\n}\n\nvoid main() {\n    mixed err = safe_execute(lambda() {\n        // Your CGI code here\n        write("Content-Type: text/html\\r\\n\\r\\n");\n        write("<h1>Hello World!</h1>\\n");\n    });\n\n    if (err) {\n        // Error was already handled\n        return;\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"writing-a-safe-cgi-program",children:"Writing a Safe CGI Program"}),"\n",(0,i.jsx)(e.h3,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Security-focused CGI programming\n//-----------------------------\n\n#pragma strict_types\n#pragma no_clone\n\nimport Protocols.HTTP;\n\nconstant MAX_POST_SIZE = 1048576;  // 1MB limit\nconstant MAX_FIELD_LENGTH = 1000;\n\n// HTML escape to prevent XSS\nstring html_escape(string s) {\n    return replace(replace(replace(replace(s, "&", "&amp;"),\n        "<", "&lt;"),\n        ">", "&gt;"),\n        "\\"", "&quot;");\n}\n\n// Validate and sanitize input\nstring|zero validate_string(string input, void|bool allow_html) {\n    // Check length\n    if (sizeof(input) > MAX_FIELD_LENGTH) {\n        return 0;\n    }\n\n    // Trim whitespace\n    string result = String.trim_whites(input);\n\n    // Check for null bytes\n    if (has_value(result, "\\0")) {\n        return 0;\n    }\n\n    // Remove HTML unless explicitly allowed\n    if (!allow_html) {\n        result = html_escape(result);\n    }\n\n    return result;\n}\n\n// Validate email\nint is_valid_email(string email) {\n    if (!email || sizeof(email) < 3 || sizeof(email) > 254)\n        return 0;\n\n    return Regexp.PCRE.Simple("^[\\\\w._%+-]+@[\\\\w.-]+\\\\.[a-zA-Z]{2,}$")->match(email);\n}\n\n// Rate limiting\nmapping(string:int) rate_limits = ([]);\nint rate_limit_window = 60;\nint max_requests_per_window = 10;\n\nint check_rate_limit(string identifier) {\n    int now = time();\n    if (!rate_limits[identifier]) {\n        rate_limits[identifier] = now;\n        return 1;\n    }\n\n    int elapsed = now - rate_limits[identifier];\n    if (elapsed >= rate_limit_window) {\n        rate_limits[identifier] = now;\n        return 1;\n    }\n\n    return 0;  // Rate limited\n}\n\nvoid main() {\n    // Check rate limit\n    string ip = getenv("REMOTE_ADDR") || "unknown";\n    if (!check_rate_limit(ip)) {\n        write("Status: 429 Too Many Requests\\r\\n\\r\\nRate limit exceeded.");\n        return;\n    }\n\n    // Parse form safely\n    mapping(string:string) form = parse_form_data();\n\n    // Validate email if provided\n    if (form->email && !is_valid_email(form->email)) {\n        write("Content-Type: text/html\\r\\n\\r\\n");\n        write("<h2>Invalid email address</h2>\\n");\n        return;\n    }\n\n    // Send safe response\n    write("Content-Type: text/html\\r\\n\\r\\n");\n    write("<h1>Hello, %s!</h1>\\n", html_escape(form->name || "Guest"));\n}\n'})}),"\n",(0,i.jsx)(e.admonition,{type:"warning",children:(0,i.jsx)(e.p,{children:"Always validate and sanitize user input to prevent XSS, SQL injection, and other attacks."})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"redirecting-to-a-different-location",children:"Redirecting to a Different Location"}),"\n",(0,i.jsx)(e.h3,{id:"http-redirects",children:"HTTP Redirects"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: HTTP redirects for CGI\n//-----------------------------\n\n#pragma strict_types\n#pragma no_clone\n\n// 301 Moved Permanently\nvoid redirect_permanent(string url) {\n    write("Status: 301 Moved Permanently\\r\\n");\n    write("Location: %s\\r\\n", url);\n    write("Content-Type: text/html\\r\\n\\r\\n");\n    write("<!DOCTYPE html><html><head><title>Moved</title></head>\\n");\n    write("<body><h1>301 Moved Permanently</h1>\\n");\n    write("<p>This resource has moved to <a href=\'%s\'>%s</a>.</p>\\n", url, url);\n    write("</body></html>\\n");\n}\n\n// 302 Found (temporary redirect)\nvoid redirect_temporary(string url) {\n    write("Status: 302 Found\\r\\n");\n    write("Location: %s\\r\\n", url);\n    write("Content-Type: text/html\\r\\n\\r\\n");\n    write("<!DOCTYPE html><html>\\n");\n    write("<head><meta http-equiv=\'refresh\' content=\'0;url=%s\'>\\n", url);\n    write("<title>Redirect</title></head>\\n");\n    write("<body><h1>Redirecting...</h1></body></html>\\n");\n}\n\n// Safe redirect with validation\nint is_safe_url(string url) {\n    if (!url) return 0;\n\n    // Allow relative URLs\n    if (has_prefix(url, "/")) return 1;\n\n    // Allow absolute URLs only from whitelist\n    string host = getenv("HTTP_HOST") || "localhost";\n    array(string) allowed = ({ host, "www." + host });\n\n    foreach(allowed; string allowed_host) {\n        if (has_prefix(url, "http://" + allowed_host) ||\n            has_prefix(url, "https://" + allowed_host)) {\n            return 1;\n        }\n    }\n\n    return 0;\n}\n\nvoid safe_redirect(string url) {\n    if (!url || !is_safe_url(url)) {\n        url = "/";\n    }\n    redirect_temporary(url);\n}\n\nvoid main() {\n    string redirect_target = getenv("QUERY_STRING");\n    if (redirect_target && has_prefix(redirect_target, "url=")) {\n        string url = Protocols.HTTP.http_decode_url(redirect_target[4..]);\n        safe_redirect(url);\n    } else {\n        write("Content-Type: text/html\\r\\n\\r\\n");\n        write("<h1>Redirect Examples</h1>\\n");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"formatting-lists-and-tables-with-html-shortcuts",children:"Formatting Lists and Tables with HTML Shortcuts"}),"\n",(0,i.jsx)(e.h3,{id:"html-helper-functions",children:"HTML Helper Functions"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: HTML generation helpers\n//-----------------------------\n\n#pragma strict_types\n#pragma no_clone\n\n// HTML escape\nstring h(string s) {\n    return replace(replace(replace(replace(s, "&", "&amp;"),\n        "<", "&lt;"),\n        ">", "&gt;"),\n        "\\"", "&quot;");\n}\n\n// Unordered list\nstring ul(array(string) items) {\n    array(string) lis = map(items, lambda(string item) {\n        return "  <li>" + h(item) + "</li>";\n    });\n    return "<ul>\\n" + lis * "\\n" + "\\n</ul>";\n}\n\n// Table generator\nstring table(array(array(string)) rows, array(string)|void headers) {\n    string html = "<table>\\n";\n\n    if (headers) {\n        html += "  <tr>\\n";\n        foreach(headers; string h) {\n            html += sprintf("    <th>%s</th>\\n", h);\n        }\n        html += "  </tr>\\n";\n    }\n\n    foreach(rows; array(string) row) {\n        html += "  <tr>\\n";\n        foreach(row; string cell) {\n            html += sprintf("    <td>%s</td>\\n", h(cell));\n        }\n        html += "  </tr>\\n";\n    }\n\n    html += "</table>\\n";\n    return html;\n}\n\n// Form generator\nstring form(string action, string content, void|int use_post) {\n    string method = use_post ? "POST" : "GET";\n    return sprintf("<form action=\'%s\' method=\'%s\'>\\n%s\\n</form>\\n",\n                  action, method, content);\n}\n\nvoid main() {\n    write("Content-Type: text/html\\r\\n\\r\\n");\n\n    array(string) fruits = ({"Apple", "Banana", "Cherry"});\n    array(array(string)) data = ({\n        ({"Alice", "30", "NYC"}),\n        ({"Bob", "25", "LA"})\n    });\n\n    write("<!DOCTYPE html><html><head><title>HTML Helpers</title>\\n");\n    write("<style>table{border-collapse:collapse;}th,td{border:1px solid #ccc;padding:8px;}</style>\\n");\n    write("</head><body>\\n");\n\n    write("<h1>Fruits:</h1>\\n");\n    write(ul(fruits));\n\n    write("<h1>Data Table:</h1>\\n");\n    write(table(data, ({"Name", "Age", "City"})));\n\n    write("</body></html>\\n");\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"managing-cookies",children:"Managing Cookies"}),"\n",(0,i.jsx)(e.h3,{id:"cookie-handling",children:"Cookie Handling"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Cookie management for CGI\n//-----------------------------\n\n#pragma strict_types\n#pragma no_clone\n\n// Parse Cookie header\nmapping(string:string) parse_cookies() {\n    mapping(string:string) cookies = ([]);\n    string cookie_header = getenv("HTTP_COOKIE") || "";\n\n    if (cookie_header != "") {\n        foreach(cookie_header / ";"; string cookie) {\n            string trimmed = String.trim_whites(cookie);\n            int pos = search(trimmed, "=");\n            if (pos > 0) {\n                string name = trimmed[0..pos-1];\n                string value = trimmed[pos+1..];\n                cookies[name] = value;\n            }\n        }\n    }\n\n    return cookies;\n}\n\n// Set cookie with attributes\nvoid set_cookie(string name, string value,\n                void|int lifetime, void|string path) {\n    if (!path) path = "/";\n    if (!lifetime) lifetime = 3600;\n\n    int expiry = time() + lifetime;\n    string date = Calendar.Second(expiry)->format_http();\n\n    string cookie = sprintf("%s=%s; Expires=%s; Path=%s",\n                            name, value, date, path);\n    write("Set-Cookie: %s\\r\\n", cookie);\n}\n\n// Delete cookie\nvoid delete_cookie(string name, void|string path) {\n    if (!path) path = "/";\n    set_cookie(name, "", 1, path);\n}\n\n// Session management\nclass Session {\n    string session_id;\n    mapping(string:mixed) data = ([]);\n    int created;\n    int timeout = 1800;\n\n    void create(string|void id) {\n        created = time();\n        if (id) {\n            session_id = id;\n        } else {\n            session_id = String.hash2(sprintf("%d.%s", time(), Crypto.Random.random_string(16)), "SHA256");\n        }\n    }\n\n    int is_expired() {\n        return (time() - created) > timeout;\n    }\n\n    mixed get(string key) {\n        return data[key];\n    }\n\n    void set(string key, mixed value) {\n        data[key] = value;\n    }\n}\n\nmapping(string:Session) sessions = ([]);\n\nSession|zero get_session(string|void session_id) {\n    // Clean expired sessions\n    foreach(indices(sessions); string id) {\n        if (sessions[id]->is_expired()) {\n            m_delete(sessions, id);\n        }\n    }\n\n    if (session_id && sessions[session_id]) {\n        return sessions[session_id];\n    }\n\n    // Create new session\n    Session new_session = Session();\n    sessions[new_session->session_id] = new_session;\n    return new_session;\n}\n\nvoid main() {\n    mapping(string:string) cookies = parse_cookies();\n    Session session = get_session(cookies["session_id"]);\n\n    // Send session cookie\n    set_cookie("session_id", session->session_id, 3600);\n\n    write("Content-Type: text/html\\r\\n\\r\\n");\n    write("<h1>Session ID: %s</h1>\\n", session->session_id);\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"debugging-cgi-scripts",children:"Debugging CGI Scripts"}),"\n",(0,i.jsx)(e.h3,{id:"http-debug-tools",children:"HTTP Debug Tools"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: CGI debugging tools\n//-----------------------------\n\n#pragma strict_types\n#pragma no_clone\n\nconstant DEBUG_LOG = "/tmp/http_debug.log";\n\nvoid debug_log(string message) {\n    string timestamp = Calendar.ISO.now()->format_time();\n    Stdio.File f = Stdio.File(DEBUG_LOG, "wac");\n    if (f) {\n        f->write(sprintf("[%s] %s\\n", timestamp, message));\n        f->close();\n    }\n}\n\n// Dump all environment variables\nstring dump_cgi_environment() {\n    string output = "=== CGI Environment ===\\n";\n    array(string) vars = ({\n        "REQUEST_METHOD", "REQUEST_URI", "QUERY_STRING",\n        "CONTENT_TYPE", "CONTENT_LENGTH", "HTTP_USER_AGENT",\n        "REMOTE_ADDR", "HTTP_REFERER", "HTTP_COOKIE"\n    });\n\n    foreach(vars; string var) {\n        string value = getenv(var);\n        output += sprintf("%s: %s\\n", var, value || "(not set)");\n    }\n\n    return output;\n}\n\nvoid main() {\n    // Log request\n    string remote = getenv("REMOTE_ADDR") || "unknown";\n    string uri = getenv("REQUEST_URI") || "/";\n    debug_log(sprintf("%s %s from %s", getenv("REQUEST_METHOD"), uri, remote));\n\n    // Check for debug mode\n    string debug = getenv("QUERY_STRING");\n    if (debug == "debug" || debug == "1") {\n        write("Content-Type: text/plain\\r\\n\\r\\n");\n        write(dump_cgi_environment());\n    } else {\n        write("Content-Type: text/html\\r\\n\\r\\n");\n        write("<h1>CGI Debug Tool</h1>\\n");\n        write("<p>Add ?debug to URL for diagnostic info.</p>\\n");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/network/web-automation",children:"Web Automation"})," - HTTP clients and APIs"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/network/internet-services",children:"Internet Services"})," - Email, FTP, DNS"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/files/file-access",children:"File Access"})," - Working with files"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/docs/basics/strings",children:"Strings"})," - Text processing"]}),"\n"]})]})}function g(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},8453(n,e,r){r.d(e,{R:()=>a,x:()=>o});var t=r(6540);const i={},s=t.createContext(i);function a(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);