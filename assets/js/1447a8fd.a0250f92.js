"use strict";(self.webpackChunkpike_cookbook=self.webpackChunkpike_cookbook||[]).push([[526],{9154(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"files/file-access","title":"File Access","description":"Introduction","source":"@site/docs/files/file-access.md","sourceDirName":"files","slug":"/files/file-access","permalink":"/pike-cookbook/docs/files/file-access","draft":false,"unlisted":false,"editUrl":"https://github.com/TheSmuks/pike-cookbook/tree/main/docs/files/file-access.md","tags":[],"version":"current","frontMatter":{"id":"file-access","title":"File Access","sidebar_label":"File Access"},"sidebar":"tutorialSidebar","previous":{"title":"Subroutines","permalink":"/pike-cookbook/docs/basics/subroutines"},"next":{"title":"File Contents","permalink":"/pike-cookbook/docs/files/file-contents"}}');var r=i(4848),l=i(8453);const s={id:"file-access",title:"File Access",sidebar_label:"File Access"},d="File Access",o={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Reading Whole Files",id:"reading-whole-files",level:2},{value:"Convenience Method - Stdio.read_file()",id:"convenience-method---stdioread_file",level:3},{value:"Reading with File Handle",id:"reading-with-file-handle",level:3},{value:"Opening Files",id:"opening-files",level:2},{value:"File Open Modes",id:"file-open-modes",level:3},{value:"Mode Quick Reference",id:"mode-quick-reference",level:3},{value:"Standard Input/Output",id:"standard-inputoutput",level:2},{value:"Reading from STDIN",id:"reading-from-stdin",level:3},{value:"Redirecting Output",id:"redirecting-output",level:3},{value:"Writing Files",id:"writing-files",level:2},{value:"Write Entire File",id:"write-entire-file",level:3},{value:"Writing with File Handle",id:"writing-with-file-handle",level:3},{value:"Line-by-Line Processing",id:"line-by-line-processing",level:2},{value:"Reading Lines",id:"reading-lines",level:3},{value:"Buffered Line Reading",id:"buffered-line-reading",level:3},{value:"File Position and Seeking",id:"file-position-and-seeking",level:2},{value:"Random Access",id:"random-access",level:3},{value:"Binary File Operations",id:"binary-file-operations",level:2},{value:"Read Binary Data",id:"read-binary-data",level:3},{value:"Write Binary Data",id:"write-binary-data",level:3},{value:"Temporary Files",id:"temporary-files",level:2},{value:"Create Temporary File",id:"create-temporary-file",level:3},{value:"In-Memory File",id:"in-memory-file",level:3},{value:"File Information",id:"file-information",level:2},{value:"Get File Metadata",id:"get-file-metadata",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Proper Error Checking",id:"proper-error-checking",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Count Lines in File",id:"count-lines-in-file",level:3},{value:"Find and Replace in File",id:"find-and-replace-in-file",level:3},{value:"Process CSV File",id:"process-csv-file",level:3},{value:"Copy File",id:"copy-file",level:3},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"file-access",children:"File Access"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"File access is one of the most common operations in programming. Pike provides multiple ways to read and write files, from convenience functions to fine-grained control."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Quick scripts"}),": Use ",(0,r.jsx)(n.code,{children:"Stdio.read_file()"})," and ",(0,r.jsx)(n.code,{children:"Stdio.write_file()"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Large files"}),": Use file handles with ",(0,r.jsx)(n.code,{children:"Stdio.File()"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Line-by-line"}),": Use ",(0,r.jsx)(n.code,{children:"line_iterator()"})," or buffered I/O"]}),"\n"]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"reading-whole-files",children:"Reading Whole Files"}),"\n",(0,r.jsx)(n.h3,{id:"convenience-method---stdioread_file",children:"Convenience Method - Stdio.read_file()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Read entire file at once\n//-----------------------------\n\n// Read entire file into a string\nstring content = Stdio.read_file("/usr/local/widgets/data");\n\nif (!content) {\n    werror("Couldn\'t open file for reading\\n");\n    exit(1);\n}\n\n// Process the content\nforeach(content / "\\n";; string line) {\n    if (search(line, "blue") != -1) {\n        write("%s\\n", line);\n    }\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Stdio.read_file()"})," is the easiest way to read small to medium files. It returns ",(0,r.jsx)(n.code,{children:"0"})," (not an empty string) on failure."]})}),"\n",(0,r.jsx)(n.h3,{id:"reading-with-file-handle",children:"Reading with File Handle"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Read file with more control\n//-----------------------------\n\nStdio.File file = Stdio.File("/usr/local/widgets/data", "r");\n\nif (!file) {\n    werror("Couldn\'t open file for reading\\n");\n    exit(1);\n}\n\n// Read line by line using iterator\nforeach(file->line_iterator();; string line) {\n    if (search(line, "blue") != -1) {\n        write("%s\\n", line);\n    }\n}\n\nfile->close();\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"opening-files",children:"Opening Files"}),"\n",(0,r.jsx)(n.h3,{id:"file-open-modes",children:"File Open Modes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Open files with different modes\n//-----------------------------\n\nstring path = "/path/to/file.txt";\n\n// Read existing file\nstring content = Stdio.read_file(path);\nStdio.File file = Stdio.File(path, "r");\n\n// Write new file (create or truncate)\nStdio.write_file(path, "content");\nStdio.File file = Stdio.File(path, "wc");\n\n// Write with permissions (octal)\nStdio.write_file(path, "content", 0600);\nStdio.File file = Stdio.File(path, "wc", 0600);\n\n// Append to file\nStdio.append_file(path, "new content\\n");\nStdio.File file = Stdio.File(path, "wac");\n\n// Read and write (update mode)\nStdio.File file = Stdio.File(path, "rw");\n\n// Create new file (must not exist)\nStdio.File file = Stdio.File(path, "wcx");\n\n// Append (file must exist)\nStdio.File file = Stdio.File(path, "wacx");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mode-quick-reference",children:"Mode Quick Reference"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Mode"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Creates"}),(0,r.jsx)(n.th,{children:"Truncates"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"r"'})}),(0,r.jsx)(n.td,{children:"Read only"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"w"'})}),(0,r.jsx)(n.td,{children:"Write only"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"a"'})}),(0,r.jsx)(n.td,{children:"Append"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"rw"'})}),(0,r.jsx)(n.td,{children:"Read/write"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"wc"'})}),(0,r.jsx)(n.td,{children:"Write create"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"wac"'})}),(0,r.jsx)(n.td,{children:"Write append create"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"wcx"'})}),(0,r.jsx)(n.td,{children:"Write create exclusive"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"rwcx"'})}),(0,r.jsx)(n.td,{children:"Read/write create exclusive"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["Be careful with mode ",(0,r.jsx)(n.code,{children:'"wc"'})," - it ",(0,r.jsx)(n.strong,{children:"overwrites"})," existing files without warning!"]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"standard-inputoutput",children:"Standard Input/Output"}),"\n",(0,r.jsx)(n.h3,{id:"reading-from-stdin",children:"Reading from STDIN"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Read from standard input\n//-----------------------------\n\n// Read all input from stdin\nforeach(Stdio.stdin;; string line) {\n    // Process each line\n    int has_digit = sizeof(array_sscanf(line, "%*s%d"));\n    if (!has_digit) {\n        werror("No digit found in: %s", line);\n    }\n\n    write("Read: %s\\n", line);\n}\n\n// Read with line iteration\nforeach(Stdio.stdin->line_iterator();; string line) {\n    write("Got: %s\\n", String.trim_whites(line));\n}\n\n// Write to STDOUT and STDERR\nwrite("This goes to stdout\\n");\nwerror("This goes to stderr\\n");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"redirecting-output",children:"Redirecting Output"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Switch output destination\n//-----------------------------\n\n// Create log file\nStdio.File logfile = Stdio.File("/tmp/log", "wc");\n\n// Make write() point to log file\nfunction write_orig = write;\nfunction write = logfile->write;\n\nwrite("This goes to log file\\n");\n\n// Restore stdout\nwrite = write_orig;\nwrite("Back to stdout\\n");\n\n// Close log\nlogfile->close();\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"writing-files",children:"Writing Files"}),"\n",(0,r.jsx)(n.h3,{id:"write-entire-file",children:"Write Entire File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Write complete file\n//-----------------------------\n\n// Simple write\nStdio.write_file("/tmp/output.txt", "Hello, World!\\n");\n\n// Write with permissions\nStdio.write_file("/tmp/sensitive.txt", "Secret data\\n", 0600);\n\n// Append to file\nStdio.append_file("/tmp/log.txt", sprintf("[%s] Entry\\n", ctime(time())));\n'})}),"\n",(0,r.jsx)(n.h3,{id:"writing-with-file-handle",children:"Writing with File Handle"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Write with buffered output\n//-----------------------------\n\n// Stdio.File is unbuffered - use Stdio.FILE for buffered writes\nStdio.FILE file = Stdio.FILE();\n\nif (!file->open("/tmp/output.txt", "wc")) {\n    werror("Failed to open file\\n");\n    exit(1);\n}\n\n// Write line by line\nfor (int i = 1; i <= 10; i++) {\n    file->write("Line %d\\n", i);\n}\n\nfile->close();\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"line-by-line-processing",children:"Line-by-Line Processing"}),"\n",(0,r.jsx)(n.h3,{id:"reading-lines",children:"Reading Lines"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Process file line by line\n//-----------------------------\n\nStdio.File file = Stdio.File("data.txt", "r");\n\nif (!file) {\n    werror("Cannot open file\\n");\n    exit(1);\n}\n\n// Method 1: Using line_iterator()\nforeach(file->line_iterator();; string line) {\n    line = String.trim_whites(line);\n    if (sizeof(line)) {\n        write("Processing: %s\\n", line);\n    }\n}\n\n// Method 2: Manual line reading\nfile->seek(0);  // Reset to beginning\nstring line;\nwhile ((line = file->gets())) {\n    if (sizeof(String.trim_whites(line))) {\n        write("Processing: %s\\n", line);\n    }\n}\n\nfile->close();\n'})}),"\n",(0,r.jsx)(n.h3,{id:"buffered-line-reading",children:"Buffered Line Reading"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Use buffered I/O for lines\n//-----------------------------\n\n// Stdio.FILE provides buffered line reading\nStdio.FILE file = Stdio.FILE();\n\nif (!file->open("data.txt", "r")) {\n    werror("Cannot open file\\n");\n    exit(1);\n}\n\n// gets() reads a line (removes newline)\nstring line;\nwhile ((line = file->gets())) {\n    write("Line: %s\\n", String.trim_whites(line));\n}\n\nfile->close();\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"file-position-and-seeking",children:"File Position and Seeking"}),"\n",(0,r.jsx)(n.h3,{id:"random-access",children:"Random Access"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Jump to specific file position\n//-----------------------------\n\nStdio.File file = Stdio.File("data.bin", "r");\n\nif (!file) {\n    werror("Cannot open file\\n");\n    exit(1);\n}\n\n// Get current position\nint pos = file->tell();\nwrite("Current position: %d\\n", pos);\n\n// Seek to beginning\nfile->seek(0);\n\n// Seek to end\nfile->seek(0, SEEK_END);\nint file_size = file->tell();\nwrite("File size: %d bytes\\n", file_size);\n\n// Seek to middle\nfile->seek(file_size / 2);\n\n// Read from current position\nstring data = file->read(1024);\nwrite("Read %d bytes from middle\\n", sizeof(data));\n\nfile->close();\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"binary-file-operations",children:"Binary File Operations"}),"\n",(0,r.jsx)(n.h3,{id:"read-binary-data",children:"Read Binary Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Read binary file\n//-----------------------------\n\nStdio.File file = Stdio.File("image.png", "r");\n\nif (!file) {\n    werror("Cannot open file\\n");\n    exit(1);\n}\n\n// Read specific number of bytes\nstring header = file->read(8);\nwrite("Header: %O\\n", header);\n\n// Check PNG signature\nif (header == "\\x89PNG\\r\\n\\x1a\\n") {\n    write("This is a PNG file\\n");\n}\n\n// Read rest of file\nstring image_data = file->read();\nwrite("Image data size: %d bytes\\n", sizeof(image_data));\n\nfile->close();\n'})}),"\n",(0,r.jsx)(n.h3,{id:"write-binary-data",children:"Write Binary Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Write binary file\n//-----------------------------\n\n// Create binary data\nstring binary_data = "\\x89PNG\\r\\n\\x1a\\n";\nbinary_data += sprintf("%4c", 13, 14, 15, 16);  // Write 4 bytes\n\n// Write to file\nStdio.File file = Stdio.File("output.bin", "wc");\n\nif (!file) {\n    werror("Cannot create file\\n");\n    exit(1);\n}\n\nfile->write(binary_data);\nfile->close();\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"temporary-files",children:"Temporary Files"}),"\n",(0,r.jsx)(n.h3,{id:"create-temporary-file",children:"Create Temporary File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Create safe temporary file\n//-----------------------------\n\nStdio.File fh;\nstring name;\n\n// Try until we find an unused name\ndo {\n    name = "/tmp/" + MIME.encode_base64(random_string(10));\n    fh = Stdio.File(name, "rwcx");\n} while (!fh);\n\nwrite("Created temp file: %s\\n", name);\n\n// Use the file\nfh->write("Temporary data\\n");\n\n// Set up cleanup on exit\natexit(lambda() {\n    fh->close();\n    rm(name);\n});\n'})}),"\n",(0,r.jsx)(n.h3,{id:"in-memory-file",children:"In-Memory File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Use FakeFile for in-memory operations\n//-----------------------------\n\n// FakeFile behaves like a file but lives in memory\nStdio.FakeFile memfile = Stdio.FakeFile();\n\nmemfile->write("Line 1\\n");\nmemfile->write("Line 2\\n");\nmemfile->write("Line 3\\n");\n\n// Reset to beginning\nmemfile->seek(0);\n\n// Read back\nforeach(memfile->line_iterator();; string line) {\n    write("Read: %s", line);\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"file-information",children:"File Information"}),"\n",(0,r.jsx)(n.h3,{id:"get-file-metadata",children:"Get File Metadata"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Get file statistics\n//-----------------------------\n\nstring path = __FILE__;  // Current script\nobject stat = file_stat(path);\n\nif (stat) {\n    write("File: %s\\n", path);\n    write("Size: %d bytes\\n", stat->size);\n    write("Modified: %s\\n", ctime(stat->mtime));\n    write("Permissions: %o\\n", stat->mode);\n    write("Is directory: %s\\n", stat->isdir ? "yes" : "no");\n    write("Is regular file: %s\\n", stat->isreg ? "yes" : "no");\n\n    // Human-readable size\n    int kilosize = stat->size / 1024;\n    write("Size: %d KB\\n", kilosize);\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.h3,{id:"proper-error-checking",children:"Proper Error Checking"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Handle file errors gracefully\n//-----------------------------\n\nstring path = "/path/to/file.txt";\n\n// Method 1: Check return value\nstring content = Stdio.read_file(path);\nif (!content) {\n    werror("Failed to read %s\\n", path);\n    exit(1);\n}\n\n// Method 2: Use catch()\nmixed error = catch {\n    Stdio.File file = Stdio.File(path, "r");\n    if (!file) {\n        error("Failed to open file\\n");\n    }\n\n    // ... process file ...\n\n    file->close();\n};\n\nif (error) {\n    werror("Error: %s\\n", describe_error(error));\n    exit(1);\n}\n\n// Method 3: Detailed error with errno\nStdio.File file = Stdio.File(path, "r");\nif (!file) {\n    werror("Cannot open %s: %s\\n", path, strerror(errno()));\n    exit(1);\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,r.jsx)(n.h3,{id:"count-lines-in-file",children:"Count Lines in File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Count lines efficiently\n//-----------------------------\n\nint count_lines(string path) {\n    Stdio.File file = Stdio.File(path, "r");\n    if (!file) return 0;\n\n    int count = 0;\n    foreach(file->line_iterator();; string line) {\n        count++;\n    }\n\n    file->close();\n    return count;\n}\n\nwrite("Lines: %d\\n", count_lines("/etc/passwd"));\n'})}),"\n",(0,r.jsx)(n.h3,{id:"find-and-replace-in-file",children:"Find and Replace in File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Replace text in file\n//-----------------------------\n\nvoid replace_in_file(string path, string search, string replace) {\n    string content = Stdio.read_file(path);\n    if (!content) {\n        werror("Cannot read file\\n");\n        return;\n    }\n\n    // Replace all occurrences\n    string new_content = String.replace(content, search, replace);\n\n    // Write back\n    Stdio.write_file(path, new_content);\n}\n\n// Usage\nreplace_in_file("config.txt", "old_value", "new_value");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"process-csv-file",children:"Process CSV File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Parse CSV data\n//----------------------------/\n\nvoid process_csv(string path) {\n    Stdio.File file = Stdio.File(path, "r");\n    if (!file) {\n        werror("Cannot open CSV\\n");\n        return;\n    }\n\n    // Skip header\n    file->gets();\n\n    // Process data rows\n    int row_num = 1;\n    foreach(file->line_iterator();; string line) {\n        row_num++;\n\n        // Split by comma\n        array(string) fields = String.split(line, ",");\n\n        if (sizeof(fields) >= 3) {\n            string name = String.trim_whites(fields[0]);\n            int age = (int)fields[1];\n            string city = String.trim_whites(fields[2]);\n\n            write("Row %d: %s, %d, %s\\n", row_num, name, age, city);\n        }\n    }\n\n    file->close();\n}\n\n// Usage\n// process_csv("data.csv");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"copy-file",children:"Copy File"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-pike",children:'//-----------------------------\n// Recipe: Copy file with progress\n//----------------------------/\n\nint copy_file(string src, string dst) {\n    Stdio.File source = Stdio.File(src, "r");\n    if (!source) {\n        werror("Cannot open source\\n");\n        return 0;\n    }\n\n    Stdio.File dest = Stdio.File(dst, "wc");\n    if (!dest) {\n        werror("Cannot create destination\\n");\n        source->close();\n        return 0;\n    }\n\n    // Copy in chunks\n    int chunk_size = 65536;  // 64KB\n    int total = 0;\n    string chunk;\n\n    while ((chunk = source->read(chunk_size))) {\n        dest->write(chunk);\n        total += sizeof(chunk);\n\n        if (total % (1024 * 1024) == 0) {\n            write("Copied %d MB\\n", total / (1024 * 1024));\n        }\n    }\n\n    source->close();\n    dest->close();\n\n    write("Copied %d bytes total\\n", total);\n    return 1;\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/files/file-contents",children:"File Contents"})," - Advanced file processing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/files/directories",children:"Directories"})," - Directory operations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/files/database-access",children:"Database Access"})," - Database integration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/basics/strings",children:"Strings"})," - Text processing"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>s,x:()=>d});var t=i(6540);const r={},l=t.createContext(r);function s(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);